<app-nav></app-nav>

<section class="py-3 bg-light">
  <div class="container">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="#">Home</a></li>
      <li class="breadcrumb-item"><a href="#">Category name</a></li>
      <li class="breadcrumb-item"><a href="#">Sub category</a></li>
      <li class="breadcrumb-item active" aria-current="page">Items</li>
    </ol>
  </div>
</section>

<!-- ========================= SECTION CONTENT ========================= -->
<section class="section-content bg-ash padding-y">
  <div class="container">
    <!-- ============================ ITEM DETAIL ======================== -->
    <div class="row">
      <aside class="col-md-8">
        <div class="card">
          <article class="gallery-wrap">
            <div class="img-big-wrap">
              <div>
                <a href="#"><img [src]="imageToView" /></a>
              </div>
            </div>
            <!-- slider-product.// -->
            <div class="thumbs-wrap">
              <a
                (click)="setImageToView(adImage.imageUrl)"
                class="item-thumb"
                *ngFor="let adImage of ad.adImages"
              >
                <img src="{{ adImage.imageUrl }}"
              /></a>
            </div>
            <!-- slider-nav.// -->
          </article>
          <!-- gallery-wrap .end// -->
        </div>
        <div class="card">
          <div class="d-flex justify-content-between px-">
            <ul class="nav nav-pills" id="pills-tab" role="tablist">
              <li class="nav-item">
                <a
                  class="nav-link active"
                  id="pills-Overview-tab"
                  data-toggle="pill"
                  href="#pills-Overview"
                  role="tab"
                  aria-controls="pills-Overview"
                  aria-selected="true"
                  >Overview</a
                >
              </li>

              <li class="nav-item">
                <a
                  class="nav-link"
                  id="pills-Reviews-tab"
                  data-toggle="pill"
                  href="#pills-Reviews"
                  role="tab"
                  aria-controls="pills-Reviews"
                  aria-selected="false"
                  >Reviews</a
                >
              </li>
            </ul>
            <span class="font14 pt-2 mr-2">
              <i class="fa fa-eye mr-2"></i>{{ ad?.views }} views
            </span>
          </div>
        </div>

        <div class="tab-content" id="pills-tabContent">
          <div
            class="tab-pane fade show active card p-3"
            id="pills-Overview"
            role="tabpanel"
            aria-labelledby="pills-Overview-tab"
          >
            <div>
              <p class="font14 font-light" [innerHTML]="description"></p>
            </div>
          </div>
          <div
            class="tab-pane fade"
            id="pills-Reviews"
            role="tabpanel"
            aria-labelledby="pills-Reviews-tab"
          >
            <div class="my-4 row">
              <div class="col-lg-8 col-sm-12">
                <div class="bg-white py-3 px-4" style="min-height: 246px;">
                  <div class="text-center mb-3">
                    Did this vendor meet your expectations?
                  </div>
                  <div class="my-2 font14 row align-items-center">
                    <div class="col-2">Exceeded</div>
                    <div class="col-8">
                      <div class="progress">
                        <div
                          class="progress-bar"
                          role="progressbar"
                          aria-valuenow="70"
                          aria-valuemin="0"
                          aria-valuemax="100"
                          style="width: 53%;"
                        ></div>
                      </div>
                    </div>
                    <div class="col-2">53%</div>
                  </div>
                  <div class="my-2 font14 row align-items-center">
                    <div class="col-2">Yes</div>
                    <div class="col-8">
                      <div class="progress">
                        <div
                          class="progress-bar"
                          role="progressbar"
                          aria-valuenow="70"
                          aria-valuemin="0"
                          aria-valuemax="100"
                          style="width: 28%;"
                        ></div>
                      </div>
                    </div>
                    <div class="col-2">28%</div>
                  </div>
                  <div class="my-2 font14 row align-items-center">
                    <div class="col-2">Somewhat</div>
                    <div class="col-8">
                      <div class="progress">
                        <div
                          class="progress-bar"
                          role="progressbar"
                          aria-valuenow="70"
                          aria-valuemin="0"
                          aria-valuemax="100"
                          style="width: 10%;"
                        ></div>
                      </div>
                    </div>
                    <div class="col-2">10%</div>
                  </div>
                  <div class="my-2 font14 row align-items-center">
                    <div class="col-2">Not Really</div>
                    <div class="col-8">
                      <div class="progress">
                        <div
                          class="progress-bar"
                          role="progressbar"
                          aria-valuenow="70"
                          aria-valuemin="0"
                          aria-valuemax="100"
                          style="width: 7%;"
                        ></div>
                      </div>
                    </div>
                    <div class="col-2">7%</div>
                  </div>
                  <div class="my-2 font14 row align-items-center">
                    <div class="col-2">No</div>
                    <div class="col-8">
                      <div class="progress">
                        <div
                          class="progress-bar"
                          role="progressbar"
                          aria-valuenow="70"
                          aria-valuemin="0"
                          aria-valuemax="100"
                          style="width: 2%;"
                        ></div>
                      </div>
                    </div>
                    <div class="col-2">2%</div>
                  </div>
                </div>
              </div>
              <div class="col-lg-4 col-sm-12 sm-mt">
                <div class="bg-white py-3 px-4" style="min-height: 246px;">
                  <div class="text-center mb-3">
                    Interaction
                  </div>
                  <p class="font14">
                    <i class="fa fa-thumbs-up mr-3"></i>
                    672 Recommended
                  </p>
                  <p class="font14">
                    <i class="fa fa-star mr-3"></i>
                    0 Rating(s)
                  </p>
                </div>
              </div>
            </div>
            <button
              class="btn btn-chat bt-sm mb-3"
              data-toggle="modal"
              data-target="#rateModal"
            >
              Leave Review
            </button>

            <div class="card-table table-responsive">
              <table class="table no-wrap" id="myTable">
                <tbody>
                  <tr class="my-3 bg-white" *ngFor="let review of reviews">
                    <td class="mx-3 no-wrap">
                      <div class="d-flex align-items-center">
                        <div class="mr-3">
                          <img src="assets/images/profile-sm.png" alt="" />
                        </div>
                        <div>
                          <p class="mb-1 font14">Max Miles</p>
                          <p class="mb-0 font12 text-grey">Dec 31, 2018</p>
                        </div>
                      </div>
                    </td>
                    <td>
                      <div class="font-light">
                        This Ad <span class="font-bold">exceeded</span> my
                        expectation
                      </div>
                    </td>
                    <td>
                      <div class="rating four">
                        <span>☆</span><span>☆</span><span>☆</span><span>☆</span
                        ><span>☆</span>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- card.// -->
      </aside>
      <main class="col-md-4 details">
        <article class="product-info-aside bg-white">
          <div class="btn-p">
            <button class="btn btn-price">
              <h2>N{{ ad?.price }}</h2>
            </button>
          </div>
          <div class="my-4 d-flex justify-content-center">
            <span class="icon icon-lg rounded-circle">
              <i class="fa fa-user white"></i>
              <img src="" alt="" />
            </span>
          </div>
          <h4 class="mt-3 text-center">
            {{ ad?.user?.lastName }} {{ ad?.user?.firstName }}
          </h4>

          <div class="btn-margin mt-2">
            <button
              class="btn btn-feedback"
              data-target="#rateModal"
              data-toggle="modal"
            >
              <span> <i class="fa fa-comments-o"></i></span> Leave feedback
            </button>
          </div>
          <!-- rating-wrap.// -->
          <div class="b-seller-online-info">
            <div class="b-seller-online-info-block">
              <div class="b-seller-online-title">
                21 Feb 2020
              </div>
              <div class="b-seller-online-aside">
                Registered
              </div>
            </div>
            <div class="b-seller-online-info-block">
              <div class="b-seller-online-title" style="color: green;">
                {{ ad?.negotiable ? "Negotiable" : "Not negotiable" }}
              </div>
              <!-- <div class="b-seller-online-aside">
                Negotiable
              </div> -->
            </div>
          </div>

          <div class="btn-margin my-3" *ngIf="!show">
            <button class="btn btn-contact" (click)="togglePhone()">
              <span> <i class="fa fa-phone"></i></span> Show contact
            </button>
          </div>
          <div class="btn-margin my-3" *ngIf="show">
            <button class="btn btn-contact">
              <a href="tel:{{ ad?.user?.phoneNumber }}">
                {{ ad?.user?.phoneNumber }}</a
              >
            </button>
          </div>

          <div class="btn-margin">
            <button class="btn btn-chat">
              <span> <i class="fa fa-commenting-o"></i></span> Leave a message
            </button>
          </div>

          <!-- row.// -->
        </article>
        <div class="mt-2">
          <article class="product-info-aside bg-white">
            <div class="tips">
              <h4 class="text-center">Safety tips</h4>
              <ul class="b-advert-safety-list">
                <li>
                  Do not pay in advance even for the delivery
                </li>
                <li>
                  Try to meet at a safe, public location
                </li>
                <li>
                  Check the item BEFORE you rent it
                </li>
                <li>
                  Pay only after collecting the item
                </li>
              </ul>
              <div class="h-mt-10 click">
                <a
                  href="tel:08102567863"
                  class="qa-button-report-abuse b-report-abuse-button"
                  ><span style="color: red;"><i class="fa fa-flag"></i></span>
                  Report Abuse
                </a>
              </div>
            </div>
            <!-- row.// -->
          </article>
          <div class="mt-2">
            <article class="product-info-aside bg-white margin pt-2">
              <div class="btn-margin">
                <button class="btn btn-contact" (click)="postAd()">
                  <span> </span> Post Ad Like This
                </button>
              </div>
            </article>
          </div>
        </div>
        <!-- product-info-aside .// -->
      </main>
      <!-- col.// -->
    </div>
    <!-- row.// -->
  </div>
  <!-- container .//  -->
</section>
<!-- ========================= SECTION CONTENT END// ========================= -->

<div class="container">
  <section class="padding-bottom-sm">
    <header class="section-heading heading-line">
      <h4 class="title-section text-uppercase">Recommended Ads</h4>
    </header>

    <div class="row row-sm">
      <div class="col-xl-3 col-lg-3 col-md-4 col-6">
        <div
          [routerLink]="['/ad/view', relatedAd?.slug]"
          class="card card-sm card-product-grid click"
          *ngFor="let relatedAd of relatedAds"
        >
          <a class="img-wrap">
            <img src="{{ (relatedAd?.adImages)[0].imageUrl }}" />
          </a>
          <figcaption class="info-wrap">
            <a href="#" class="title">{{ relatedAd?.title }}</a>
            <div class="rating-wrap">
              <ul class="rating-stars">
                <li style="width: 80%;" class="stars-active">
                  <i class="fa fa-star"></i><i class="fa fa-star"></i
                  ><i class="fa fa-star"></i><i class="fa fa-star"></i
                  ><i class="fa fa-star"></i>
                </li>
                <li>
                  <i class="fa fa-star"></i><i class="fa fa-star"></i
                  ><i class="fa fa-star"></i><i class="fa fa-star"></i
                  ><i class="fa fa-star"></i>
                </li>
              </ul>
              <span class="label-rating text-muted"> 34 reviws</span>
            </div>
            <div class="price mt-1">${{ relatedAd?.price }}.00</div>
            <!-- price-wrap.// -->
          </figcaption>
        </div>
      </div>
      <!-- col.// -->
    </div>
    <!-- row.// -->
  </section>
</div>
<!-- ========================= SECTION CONTENT END// ========================= -->

<!-- ========================= SECTION SUBSCRIBE END// ========================= -->
<app-footer></app-footer>
<div id="rateModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="modal-content myModal">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">
          <p class="font26">&times;</p>
        </button>
      </div>
      <div class="modal-body">
        <div class="mBody">
          <div class="pt-md-4 d-flex justify-content-center">
            <img
              class="img-fluid"
              src="/assets/images/rating.jpg"
              alt=""
              style="height: 150px;"
            />
          </div>
          <p class="font16 text-grey my-4 d-flex justify-content-center">
            How many stars will you give to this Ad
          </p>
          <form [formGroup]="ratingForm">
            <div class="mb-4 d-flex justify-content-center">
              <bar-rating
                formControlName="rating"
                [max]="5"
                [theme]="'fontawesome'"
              ></bar-rating>
            </div>
            <div class="mb-5">
              <input
                class="largeInput"
                formControlName="message"
                type="text"
                placeholder="Leave a comment"
              />
            </div>
          </form>
          <div class="d-flex justify-content-center">
            <button
              class="btn btn-rating"
              (click)="rateAd()"
              data-dismiss="modal"
            >
              Submit
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
